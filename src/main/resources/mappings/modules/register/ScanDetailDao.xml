<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.weichai.modules.register.dao.ScanDetailDao">

	<select id="selectScanDetailByCon" parameterType="ScanDetail" resultType="ScanDetail">
		SELECT
		ID as id,
		OPENID as openId,
		TYPE as type,
		SCAN_NUMBER as scanNo,
		CREATE_BY AS createBy,
		CREATE_DATE as createDate,
		 UPDATE_BY as updateBy,
		 UPDATE_DATE as  updateDate,
		 REMARKS  as remarks,
		 STATUS  as status
		FROM SCAN_DETAIL
		<where>
			<if test="userId!=null">
				OPENID = #{openId}
			</if>
		</where>
	</select>

	<insert id="insertScanDetail" parameterType="ScanDetail">
		INSERT INTO SCAN_DETAIL
		(ID  ,
		OPENID  ,
		TYPE  ,
		SCAN_NUMBER ,
		CREATE_BY  ,
		 CREATE_DATE  ,
		 UPDATE_BY  ,
		 UPDATE_DATE  ,
		 REMARKS  ,
		 STATUS
		  	)
		VALUES (
		#{id},#{openId},#{type},#{scanNo},#{createBy},SYSDATE,#{updateBy},
		#{updateDate},#{remarks},#{status}
		)
	</insert>

</mapper>

